#!/bin/bash
export COLUMNS=190 ; source /Users/valente/bin//machineNameFNs || source machineNameFNs ; exit $? ;
###DATA ec2-user:passwordkeyloc@0.0.0.0:22
###DATA centos:passwordkeyloc@0.0.0.0:22
###DATA rocky:passwordkeyloc@0.0.0.0:22
###DATA ubuntu:passwordkeyloc@0.0.0.0:22
###DATA root:passwordkeyloc@0.0.0.0:22
###DATA Administrator:getpasswd@0.0.0.0:5985
###DATA Administrator:getpasswd@0.0.0.0:5986
###DATA Administrator:getpasswd@0.0.0.0:3389

###DATA ec2-user:sooyean.awskey@13.212.112.81:22
###DATA centos:sooyean.awskey@13.212.112.81:22
###DATA rocky:sooyean.awskey@13.212.112.81:22
###DATA ubuntu:sooyean.awskey@13.212.112.81:22
###DATA root:sooyean.awskey@13.212.112.81:22
###DATA Administrator:getpasswd@13.212.112.81:5985
###DATA Administrator:getpasswd@13.212.112.81:5986
###DATA Administrator:getpasswd@13.212.112.81:3389
###NODEStage AGENTPASSTOAWSCLI 
###COMMANDCLIAWSCMDCREATE aws ec2 run-instances --profile a_Developer --image-id ami-051f0947e420652a9 --count 1 --instance-type t2.micro --key-name sooyean.awskey --security-group-ids sg-0570e7dd03d03130b sg-087e16267826fb0fd --subnet-id subnet-0dd3027f85e75744e --region ap-southeast-1 
###AWSINSTID i-0ed79e867f32ec4d7 
###imageid ami-051f0947e420652a9
###describe_images {"Images":[{"Architecture":"x86_64","CreationDate":"2022-05-05T10:37:05.000Z","ImageId":"ami-051f0947e420652a9","ImageLocation":"amazon/RHEL-8.6.0_HVM-20220503-x86_64-2-Hourly2-GP2","ImageType":"machine","Public":true,"OwnerId":"309956199498","PlatformDetails":"Red Hat Enterprise Linux","UsageOperation":"RunInstances:0010","State":"available","BlockDeviceMappings":[{"DeviceName":"/dev/sda1","Ebs":{"DeleteOnTermination":true,"SnapshotId":"snap-019beaa45bb99953d","VolumeSize":10,"VolumeType":"gp2","Encrypted":false}}],"Description":"Provided by Red Hat, Inc.","EnaSupport":true,"Hypervisor":"xen","ImageOwnerAlias":"amazon","Name":"RHEL-8.6.0_HVM-20220503-x86_64-2-Hourly2-GP2","RootDeviceName":"/dev/sda1","RootDeviceType":"ebs","SriovNetSupport":"simple","VirtualizationType":"hvm","DeprecationTime":"2024-05-05T10:37:05.000Z"}]} 
###State pending
###insttype t2.micro
###arch x86_64
###keypair sooyean.awskey
###secgroups sg-0570e7dd03d03130b sg-087e16267826fb0fd
###launchtime 2024-05-24T18:25:49+00:00
###usageoperationupdatetime 2024-05-24T18:25:49+00:00
###volumeid vol-08dbc0c3ad38864c5
###describe_volumes {"Volumes":[{"Attachments":[{"AttachTime":"2024-05-24T18:25:50+00:00","Device":"/dev/sda1","InstanceId":"i-0ed79e867f32ec4d7","State":"attaching","VolumeId":"vol-08dbc0c3ad38864c5","DeleteOnTermination":true}],"AvailabilityZone":"ap-southeast-1c","CreateTime":"2024-05-24T18:25:50.447000+00:00","Encrypted":false,"Size":10,"SnapshotId":"snap-019beaa45bb99953d","State":"in-use","VolumeId":"vol-08dbc0c3ad38864c5","Iops":100,"VolumeType":"gp2","MultiAttachEnabled":false}]} 
###subnetid subnet-0dd3027f85e75744e
###region ap-southeast-1 
###imagename RHEL-8.6.0_HVM-20220503-x86_64-2-Hourly2-GP2
###imagearchitecture x86_64
###password_data {"InstanceId":"i-0ed79e867f32ec4d7","PasswordData":"","Timestamp":"2024-05-24T18:26:15+00:00"} 
###volumesize 30 
###describe_instances {"Reservations":[{"Groups":[],"Instances":[{"AmiLaunchIndex":0,"ImageId":"ami-051f0947e420652a9","InstanceId":"i-0ed79e867f32ec4d7","InstanceType":"t2.micro","KeyName":"sooyean.awskey","LaunchTime":"2024-05-24T18:25:49+00:00","Monitoring":{"State":"disabled"},"Placement":{"AvailabilityZone":"ap-southeast-1c","GroupName":"","Tenancy":"default"},"PrivateDnsName":"ip-172-31-5-161.ap-southeast-1.compute.internal","PrivateIpAddress":"172.31.5.161","ProductCodes":[],"PublicDnsName":"ec2-13-212-112-81.ap-southeast-1.compute.amazonaws.com","PublicIpAddress":"13.212.112.81","State":{"Code":16,"Name":"running"},"StateTransitionReason":"","SubnetId":"subnet-0dd3027f85e75744e","VpcId":"vpc-0985de42751025e05","Architecture":"x86_64","BlockDeviceMappings":[{"DeviceName":"/dev/sda1","Ebs":{"AttachTime":"2024-05-24T18:25:50+00:00","DeleteOnTermination":true,"Status":"attached","VolumeId":"vol-08dbc0c3ad38864c5"}}],"ClientToken":"1a3ca25f-e93d-4ba4-9101-6a5721203733","EbsOptimized":false,"EnaSupport":true,"Hypervisor":"xen","NetworkInterfaces":[{"Association":{"IpOwnerId":"amazon","PublicDnsName":"ec2-13-212-112-81.ap-southeast-1.compute.amazonaws.com","PublicIp":"13.212.112.81"},"Attachment":{"AttachTime":"2024-05-24T18:25:49+00:00","AttachmentId":"eni-attach-0c5c76f95dba715a9","DeleteOnTermination":true,"DeviceIndex":0,"Status":"attached","NetworkCardIndex":0},"Description":"","Groups":[{"GroupName":"launch-wizard-1","GroupId":"sg-0570e7dd03d03130b"},{"GroupName":"default","GroupId":"sg-087e16267826fb0fd"}],"Ipv6Addresses":[],"MacAddress":"0a:c4:9a:97:67:b1","NetworkInterfaceId":"eni-0c3889abdbe106aab","OwnerId":"574184548053","PrivateDnsName":"ip-172-31-5-161.ap-southeast-1.compute.internal","PrivateIpAddress":"172.31.5.161","PrivateIpAddresses":[{"Association":{"IpOwnerId":"amazon","PublicDnsName":"ec2-13-212-112-81.ap-southeast-1.compute.amazonaws.com","PublicIp":"13.212.112.81"},"Primary":true,"PrivateDnsName":"ip-172-31-5-161.ap-southeast-1.compute.internal","PrivateIpAddress":"172.31.5.161"}],"SourceDestCheck":true,"Status":"in-use","SubnetId":"subnet-0dd3027f85e75744e","VpcId":"vpc-0985de42751025e05","InterfaceType":"interface"}],"RootDeviceName":"/dev/sda1","RootDeviceType":"ebs","SecurityGroups":[{"GroupName":"launch-wizard-1","GroupId":"sg-0570e7dd03d03130b"},{"GroupName":"default","GroupId":"sg-087e16267826fb0fd"}],"SourceDestCheck":true,"Tags":[{"Key":"created_by","Value":"sooyean.hoo+AWSCONSOLE@perforce.com"},{"Key":"lifetime","Value":"100d"},{"Key":"Name","Value":"servicenow_instance"},{"Key":"created_on","Value":"Sat_25_May_2024_02:25:53_+08"},{"Key":"termination_date","Value":"2024-09-01T18:25:50.602470+00:00"}],"VirtualizationType":"hvm","CpuOptions":{"CoreCount":1,"ThreadsPerCore":1},"CapacityReservationSpecification":{"CapacityReservationPreference":"open"},"HibernationOptions":{"Configured":false},"MetadataOptions":{"State":"applied","HttpTokens":"optional","HttpPutResponseHopLimit":1,"HttpEndpoint":"enabled","HttpProtocolIpv6":"disabled","InstanceMetadataTags":"disabled"},"EnclaveOptions":{"Enabled":false},"PlatformDetails":"Red Hat Enterprise Linux","UsageOperation":"RunInstances:0010","UsageOperationUpdateTime":"2024-05-24T18:25:49+00:00","PrivateDnsNameOptions":{"HostnameType":"ip-name","EnableResourceNameDnsARecord":false,"EnableResourceNameDnsAAAARecord":false},"MaintenanceOptions":{"AutoRecovery":"default"},"CurrentInstanceBootMode":"legacy-bios"}],"OwnerId":"574184548053","ReservationId":"r-0aa9c408be89dafca"}]} 
###describe_instances_update_date Sat 25 May 2024 02:26:52 +08
###PublicDnsName ec2-13-212-112-81.ap-southeast-1.compute.amazonaws.com
###PrivateDnsName ip-172-31-5-161.ap-southeast-1.compute.internal
###PrivateIpAddress 172.31.5.161
###PublicIpAddress 13.212.112.81
###KeyName sooyean.awskey
###MacAddress 0a:c4:9a:97:67:b1
###termination_date 2024-09-01T18:25:50.602470+00:00
###created_on Sat_25_May_2024_02:25:53_+08
###nodename servicenow_instance 
###AWSSTAGE DONE 
